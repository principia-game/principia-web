{% extends "_layout.twig" %}

{% set title = "Search" %}
{% set description = "Search through all levels available on principia-web." %}
{% set noindex = true %}

	{% block content %}
<h1 class="header">Search levels <a href="/forum/search">Search the forums</a></h1>

<form>
	<input type="text" name="query" value="{{ query }}">
	{#{% if page != 1 %}
		<input type="hidden" name="page" value="{{ page }}">
	{% endif %}#}
	<input type="submit" value="Search">
</form><br>

{% if query %}
	<div class="level-list">
	{% for level in levels %}
		{{ level(level) }}
	{% else %}
		<h3>Search returned no results.</h3>
	{% endfor %}
	</div>

	{% set le_url = 'search?query=' ~ query ~ '&page=%s' %}
	{{ pagination(level_count, glob_lpp, le_url, page) }}

	<p>Want more or can't find what you're looking for? <a href="https://archive.principia-web.se/search?query={{ query }}">Search for '{{ query }}' the official community site archive.</a></p>
{% endif %}

	{% endblock %}